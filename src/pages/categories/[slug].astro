---
import { getCategoriesWithPosts } from "@src/services/categoriesWithPosts";

export const prerender = true;

export async function getStaticPaths() {
  const categoriesWithPosts = await getCategoriesWithPosts();
  
  return Object.keys(categoriesWithPosts).map((categorySlug) => ({
    params: { slug: categorySlug }
  }));
}

const { slug } = Astro.params;

// Redirect to the first page of the paginated route
return Astro.redirect(`/categories/${slug}/1`);
---
